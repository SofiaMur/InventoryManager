# Inventory Management — gRPC API

Простой gRPC-сервис для учёта товаров на складе, с помощью которого можно также получать потоковые оповещения о низком остатке.

Продукт реализует API для работы с товарами:

- хранит товары в оперативной памяти (in-memory)
- поддерживает потоковое оповещение при малом остатке (стриминг)
- разработан на Go с использованием gRPC (`google.golang.org/grpc`)


## Структура проекта

```
InventoryManagement/
├── proto/
│   ├── inventory.proto   # Определение gRPC-сервисов и сообщений
│   ├── inventory.pb.go   # Сгенерированный код для структур и сообщений
│   └── inventory.proto   # Описание gRPC-сервисов, сообщений и их структуры
├── client.go             # Реализация gRPC-клиента, который взаимодействует с сервером
├── server.go             # Реализация gRPC-сервера, который обрабатывает запросы
├── go.mod                # Модульные зависимости Go
└── go.sum                # Проверка целостности зависимостей
```


## Реализованные методы

- `AddProduct` — добавить новый товар
- `GetProduct` — получить товар по ID
- `UpdateStock` — изменить остаток товара
- `RemoveProduct` — удалить товар
- `ListProducts` — получить список всех товаров
- `StreamStockAlerts` — получать оповещения о товарах с остатком < 15 шт.

---

## Запуск программы

### 1. Установление зависимостей

```bash 
go mod tidy
```

### 2. Генерация gRPC-кода из .proto

```bash 
protoc --go_out=. --go-grpc_out=. proto/inventory.proto
```

### 3. Запуск сервера

```bash 
go run server.go
```

### 4. Запуск клиентской части (в новом окне терминала)

```bash 
go run client.go
```

## Пример работы программы
Вывод в консоле:
```
2025/05/14 20:04:43 Добавлен: Тетрадь (ID: 1)
2025/05/14 20:04:43 Добавлен: Ручка (ID: 2)
2025/05/14 20:04:43 Добавлен: Ластик (ID: 3)
2025/05/14 20:04:43 Добавлен: Маркер (ID: 4)
2025/05/14 20:04:43 Добавлен: Линейка (ID: 5)
2025/05/14 20:04:43 Добавлен: Папка (ID: 6)
2025/05/14 20:04:43 Список продуктов:
2025/05/14 20:04:43 Тетрадь — 160 шт.
2025/05/14 20:04:43 Ручка — 120 шт.
2025/05/14 20:04:43 Ластик — 70 шт.
2025/05/14 20:04:43 Маркер — 60 шт.
2025/05/14 20:04:43 Линейка — 12 шт.
2025/05/14 20:04:43 Папка — 10 шт.
2025/05/14 20:04:43 Получен продукт: Ручка — 120 шт.
2025/05/14 20:04:43 Остаток по Ручке уменьшен на 3
2025/05/14 20:04:43 Папка удалена из списка
2025/05/14 20:04:43 Финальный список товаров:
2025/05/14 20:04:43 Тетрадь — 160 шт.
2025/05/14 20:04:43 Ручка — 117 шт.
2025/05/14 20:04:43 Ластик — 70 шт.
2025/05/14 20:04:43 Маркер — 60 шт.
2025/05/14 20:04:43 Линейка — 12 шт.
2025/05/14 20:04:43 Внимание пользователь! ID товара:5 — СРОЧНО! Пополните Линейка, осталось всего 12 шт.
2025/05/14 20:04:46 Внимание пользователь! ID товара:5 — СРОЧНО! Пополните Линейка, осталось всего 12 шт.
```
Пример вывода оповещения: 
`Внимание пользователь! ID товара:5 — СРОЧНО! Пополните Линейка, осталось всего 12 шт.`






